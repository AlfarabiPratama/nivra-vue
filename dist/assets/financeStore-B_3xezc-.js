import{H as g,d as D,c as o}from"./index-BO5ot4Aw.js";const k=g("finance",()=>{const t=D([{id:1,title:"Gaji Bulanan",amount:5e6,type:"income",category:"Pekerjaan",date:"2023-10-25"},{id:2,title:"Belanja Mingguan",amount:35e4,type:"expense",category:"Makanan",date:"2023-10-26"},{id:3,title:"Tiket Bioskop",amount:75e3,type:"expense",category:"Hiburan",date:"2023-10-27"}]),i=o(()=>t.value.filter(e=>e.type==="income").reduce((e,n)=>e+n.amount,0)),u=o(()=>t.value.filter(e=>e.type==="expense").reduce((e,n)=>e+n.amount,0)),l=o(()=>i.value-u.value),d=o(()=>[...t.value].sort((e,n)=>new Date(n.date)-new Date(e.date)).slice(0,5)),c=o(()=>{const e=new Date,n=new Date(e.getTime()-7*24*60*60*1e3);return t.value.filter(s=>s.type==="expense"&&new Date(s.date)>=n).reduce((s,a)=>s+a.amount,0)}),r=o(()=>{const e=new Date,n=new Date(e.getTime()-7*24*60*60*1e3),s=new Date(e.getTime()-14*24*60*60*1e3);return t.value.filter(a=>a.type==="expense"&&new Date(a.date)>=s&&new Date(a.date)<n).reduce((a,m)=>a+m.amount,0)}),p=o(()=>r.value===0?0:(c.value-r.value)/r.value*100);function w(e){t.value.push({id:Date.now(),date:new Date().toISOString().split("T")[0],...e})}function v(e){t.value=t.value.filter(n=>n.id!==e)}return{transactions:t,totalIncome:i,totalExpense:u,balance:l,recentTransactions:d,thisWeekExpenses:c,lastWeekExpenses:r,weekOverWeekChange:p,addTransaction:w,deleteTransaction:v,getUserData:()=>({transactions:t.value}),loadUserData:e=>{e&&e.transactions&&(t.value=e.transactions)}}},{persist:!0});export{k as u};
