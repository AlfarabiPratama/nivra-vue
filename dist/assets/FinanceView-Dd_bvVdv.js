import{u as S}from"./financeStore-Dkw6dJNA.js";import{C as B,p as j,a as A,b as F,B as R,c as z,L as P,d as U}from"./chartjs-BbrE9646.js";import{_ as I,V as x,a as g,b as V,d as N,l as $,m as E,n as K,o as M,p as O,h as q,i as H,j as J,e as Z}from"./index-BsOJLOR7.js";import{h as w,$ as k,a2 as y,n as a,u as p,d as h,Z as C,_ as t,y as o,a1 as n,U as m,a3 as W,a0 as G,F as Q,q as X}from"./vendor-Cz5JWIRj.js";import{V as v,a as T}from"./VRow-CUGOhnXi.js";import{V as D}from"./VTextField-Ded26RPi.js";import{V as L}from"./VSelect-D8_JCvIh.js";import{V as Y}from"./VContainer-BRwFRapj.js";import"./vuetify-DcJZCtkX.js";import"./VChip-C6BNHS__.js";const ee={class:"chart-container"},ae={__name:"FinanceChart",props:{transactions:{type:Array,required:!0}},setup(_){B.register(j,A,F,R,z,P);const d=_,c=w(()=>{const r=d.transactions.filter(b=>b.type==="expense"),u={};return r.forEach(b=>{const i=b.category||"Lainnya";u[i]||(u[i]=0),u[i]+=b.amount}),u}),s=w(()=>{const r=Object.keys(c.value),u=Object.values(c.value);return{labels:r,datasets:[{label:"Pengeluaran (Rp)",data:u,backgroundColor:["rgba(141, 163, 179, 0.8)","rgba(95, 175, 139, 0.8)","rgba(255, 183, 77, 0.8)","rgba(229, 115, 115, 0.8)","rgba(100, 181, 246, 0.8)"],borderColor:["rgba(141, 163, 179, 1)","rgba(95, 175, 139, 1)","rgba(255, 183, 77, 1)","rgba(229, 115, 115, 1)","rgba(100, 181, 246, 1)"],borderWidth:2,borderRadius:8}]}}),f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(39, 53, 68, 0.9)",titleColor:"#ffffff",bodyColor:"#ffffff",padding:12,borderRadius:8,callbacks:{label:function(r){return"Rp "+r.parsed.y.toLocaleString("id-ID")}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(r){return"Rp "+r.toLocaleString("id-ID")},color:"#8DA3B3"},grid:{color:"rgba(141, 163, 179, 0.1)"}},x:{ticks:{color:"#8DA3B3"},grid:{display:!1}}}};return(r,u)=>(y(),k("div",ee,[a(p(U),{data:s.value,options:f},null,8,["data"])]))}},te=I(ae,[["__scopeId","data-v-580e2ff4"]]),le={class:"d-flex justify-space-between align-center mb-6"},oe={class:"absolute-bg-icon opacity-10"},se={class:"text-h4 font-weight-black text-primary"},ne={class:"absolute-bg-icon opacity-10"},re={class:"text-h4 font-weight-black text-success"},ie={class:"absolute-bg-icon opacity-10"},de={class:"text-h4 font-weight-black text-error"},ue={class:"pa-4 border-b d-flex justify-space-between align-center"},me={key:0,class:"pa-8 text-center text-medium-emphasis"},ce={__name:"FinanceView",setup(_){const d=S(),c=h(!1),s=h({title:"",amount:null,type:"expense",category:"Lainnya"}),f=i=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(i),r=i=>new Date(i).toLocaleDateString("id-ID",{month:"short",day:"numeric"}),u=i=>({Makanan:"mdi-food",Transportasi:"mdi-bus",Hiburan:"mdi-movie",Pekerjaan:"mdi-briefcase",Lainnya:"mdi-dots-horizontal"})[i]||"mdi-circle-outline",b=()=>{s.value.title&&s.value.amount&&(d.addTransaction(s.value),c.value=!1,s.value={title:"",amount:null,type:"expense",category:"Lainnya"})};return(i,e)=>(y(),C(Y,{fluid:"",class:"pa-4 pa-md-8 h-100 bg-background"},{default:t(()=>[o("div",le,[e[8]||(e[8]=o("div",null,[o("h1",{class:"text-h4 font-weight-black text-on-background"},"Keuangan"),o("p",{class:"text-body-1 text-medium-emphasis"}," Kelola pemasukan dan pengeluaran Anda ")],-1)),a(x,{color:"primary","prepend-icon":"mdi-plus",rounded:"lg",elevation:"2",onClick:e[0]||(e[0]=l=>c.value=!0)},{default:t(()=>[...e[7]||(e[7]=[n(" Tambah Transaksi ",-1)])]),_:1})]),a(T,{class:"mb-6"},{default:t(()=>[a(v,{cols:"12",md:"4"},{default:t(()=>[a(g,{class:"ocean-card h-100 pa-4 d-flex flex-column justify-center position-relative overflow-hidden"},{default:t(()=>[o("div",oe,[a(V,{size:"120",color:"primary"},{default:t(()=>[...e[9]||(e[9]=[n("mdi-wallet",-1)])]),_:1})]),e[10]||(e[10]=o("div",{class:"text-overline font-weight-bold text-medium-emphasis mb-1"}," Total Saldo ",-1)),o("div",se,m(f(p(d).balance)),1),e[11]||(e[11]=o("div",{class:"text-caption text-medium-emphasis mt-2"}," +12% dari bulan lalu ",-1))]),_:1})]),_:1}),a(v,{cols:"12",md:"4"},{default:t(()=>[a(g,{class:"ocean-card h-100 pa-4 d-flex flex-column justify-center position-relative overflow-hidden"},{default:t(()=>[o("div",ne,[a(V,{size:"120",color:"success"},{default:t(()=>[...e[12]||(e[12]=[n("mdi-arrow-up-circle",-1)])]),_:1})]),e[13]||(e[13]=o("div",{class:"text-overline font-weight-bold text-medium-emphasis mb-1"}," Pemasukan ",-1)),o("div",re,m(f(p(d).totalIncome)),1)]),_:1})]),_:1}),a(v,{cols:"12",md:"4"},{default:t(()=>[a(g,{class:"ocean-card h-100 pa-4 d-flex flex-column justify-center position-relative overflow-hidden"},{default:t(()=>[o("div",ie,[a(V,{size:"120",color:"error"},{default:t(()=>[...e[14]||(e[14]=[n("mdi-arrow-down-circle",-1)])]),_:1})]),e[15]||(e[15]=o("div",{class:"text-overline font-weight-bold text-medium-emphasis mb-1"}," Pengeluaran ",-1)),o("div",de,m(f(p(d).totalExpense)),1)]),_:1})]),_:1})]),_:1}),a(T,null,{default:t(()=>[a(v,{cols:"12",md:"8"},{default:t(()=>[a(g,{class:"ocean-card h-100 pa-0",elevation:"0"},{default:t(()=>[o("div",ue,[e[17]||(e[17]=o("h3",{class:"text-h6 font-weight-bold"},"Transaksi Terbaru",-1)),a(x,{variant:"text",size:"small",color:"primary"},{default:t(()=>[...e[16]||(e[16]=[n("Lihat Semua",-1)])]),_:1})]),a(N,{class:"bg-transparent pa-0"},{default:t(()=>[(y(!0),k(Q,null,G(p(d).recentTransactions,l=>(y(),C(q,{key:l.id,class:"transaction-item py-3 px-4 border-b"},{prepend:t(()=>[a(Z,{color:l.type==="income"?"success-lighten-4":"error-lighten-4",size:"48",class:"rounded-lg mr-4"},{default:t(()=>[a(V,{color:l.type==="income"?"success":"error",size:"24"},{default:t(()=>[n(m(u(l.category)),1)]),_:2},1032,["color"])]),_:2},1032,["color"])]),append:t(()=>[o("div",{class:X(["text-body-1 font-weight-black",l.type==="income"?"text-success":"text-error"])},m(l.type==="income"?"+":"-")+" "+m(f(l.amount)),3)]),default:t(()=>[a(H,{class:"font-weight-bold text-body-1 mb-1"},{default:t(()=>[n(m(l.title),1)]),_:2},1024),a(J,{class:"text-caption"},{default:t(()=>[n(m(l.category)+" â€¢ "+m(r(l.date)),1)]),_:2},1024)]),_:2},1024))),128)),p(d).transactions.length===0?(y(),k("div",me," Belum ada transaksi ")):W("",!0)]),_:1})]),_:1})]),_:1}),a(v,{cols:"12",md:"4"},{default:t(()=>[a(g,{class:"ocean-card h-100 pa-4",elevation:"0"},{default:t(()=>[e[18]||(e[18]=o("h3",{class:"text-h6 font-weight-bold mb-4"}," Pengeluaran per Kategori ",-1)),a(te,{transactions:p(d).transactions},null,8,["transactions"])]),_:1})]),_:1})]),_:1}),a(O,{modelValue:c.value,"onUpdate:modelValue":e[6]||(e[6]=l=>c.value=l),"max-width":"500"},{default:t(()=>[a(g,{class:"ocean-card pa-4"},{default:t(()=>[a($,{class:"text-h5 font-weight-bold mb-4"},{default:t(()=>[...e[19]||(e[19]=[n(" Tambah Transaksi ",-1)])]),_:1}),a(E,null,{default:t(()=>[a(D,{modelValue:s.value.title,"onUpdate:modelValue":e[1]||(e[1]=l=>s.value.title=l),label:"Judul",variant:"outlined",density:"comfortable",class:"mb-2"},null,8,["modelValue"]),a(D,{modelValue:s.value.amount,"onUpdate:modelValue":e[2]||(e[2]=l=>s.value.amount=l),modelModifiers:{number:!0},label:"Jumlah (Rp)",type:"number",variant:"outlined",density:"comfortable",class:"mb-2"},null,8,["modelValue"]),a(L,{modelValue:s.value.type,"onUpdate:modelValue":e[3]||(e[3]=l=>s.value.type=l),items:[{title:"Pemasukan",value:"income"},{title:"Pengeluaran",value:"expense"}],label:"Tipe",variant:"outlined",density:"comfortable",class:"mb-2"},null,8,["modelValue"]),a(L,{modelValue:s.value.category,"onUpdate:modelValue":e[4]||(e[4]=l=>s.value.category=l),items:["Makanan","Transportasi","Hiburan","Pekerjaan","Lainnya"],label:"Kategori",variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1}),a(K,null,{default:t(()=>[a(M),a(x,{variant:"text",onClick:e[5]||(e[5]=l=>c.value=!1)},{default:t(()=>[...e[20]||(e[20]=[n("Batal",-1)])]),_:1}),a(x,{color:"primary",variant:"flat",onClick:b},{default:t(()=>[...e[21]||(e[21]=[n(" Simpan ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},we=I(ce,[["__scopeId","data-v-bb4fa930"]]);export{we as default};
