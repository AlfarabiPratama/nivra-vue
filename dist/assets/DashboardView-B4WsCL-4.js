import{h as T,$ as h,a2 as m,y as e,F as V,a0 as j,O as q,d as k,D as W,Z as H,_ as a,n as s,U as c,q as E,a3 as X,K as Z,a1 as b,u as D,V as Q}from"./vendor-Cz5JWIRj.js";import{_ as F,V as L,a as S,b as y,u as ee,c as G,d as te,e as se,f as ae,g as oe,h as le,i as ne,j as ie}from"./index-BsOJLOR7.js";import{t as O,c as re,f as Y}from"./format-D0X3cCcH.js";import{u as J}from"./todoStore-CA0FHbko.js";import{u as de}from"./habitStore-B5zgwvLo.js";import{V as w,a as A}from"./VRow-CUGOhnXi.js";import{V as K}from"./VChip-C6BNHS__.js";import{V as ce}from"./VSnackbar-C-RESDcR.js";import{V as ue}from"./VContainer-BRwFRapj.js";import"./vuetify-DcJZCtkX.js";function me(g,i){const r=O(g);return isNaN(i)?re(g,NaN):(r.setDate(r.getDate()+i),r)}function fe(g,i){const r=O(g.start),n=O(g.end);let d=+r>+n;const f=d?+r:+n,u=d?n:r;u.setHours(0,0,0,0);let _=1;const p=[];for(;+u<=f;)p.push(O(u)),u.setDate(u.getDate()+_),u.setHours(0,0,0,0);return d?p.reverse():p}function pe(g,i){return me(g,-364)}const ve={class:"heatmap-container"},he={class:"heatmap-grid"},ge=["title"],xe={__name:"CalendarHeatmap",props:{data:{type:Object,default:()=>({})}},setup(g){const i=g,r=T(()=>{const d=new Date,f=pe(d);return fe({start:f,end:d}).map(_=>{const p=Y(_,"yyyy-MM-dd");return{date:p,count:i.data[p]||0}})}),n=d=>d===0?"#ebedf0":d<3?"#c6e48b":d<6?"#7bc96f":d<9?"#239a3b":"#196127";return(d,f)=>(m(),h("div",ve,[f[0]||(f[0]=e("h3",null,"Activity Heatmap",-1)),e("div",he,[(m(!0),h(V,null,j(r.value,(u,_)=>(m(),h("div",{key:_,class:"heatmap-cell",style:q({backgroundColor:n(u.count)}),title:`${u.date}: ${u.count} activities`},null,12,ge))),128))])]))}},be=F(xe,[["__scopeId","data-v-60ce7965"]]),ye={class:"calendar-header mb-4"},_e={class:"d-flex justify-space-between align-center"},we={class:"text-h6 font-weight-bold text-primary"},ke={class:"calendar-grid"},De={class:"day-number text-body-2"},Le={key:0,class:"task-indicator"},Se={__name:"CalendarWidget",setup(g){const i=J();k(new Date);const r=k(new Date().getFullYear()),n=k(new Date().getMonth()),d=["Min","Sen","Sel","Rab","Kam","Jum","Sab"],f=T(()=>new Date(r.value,n.value).toLocaleDateString("id-ID",{month:"long",year:"numeric"})),u=T(()=>{const x=r.value,C=n.value,v=new Date(x,C,1),R=new Date(x,C+1,0).getDate();let M=v.getDay();M=M===0?6:M-1;const z=[],U=new Date(x,C,0).getDate();for(let o=M-1;o>=0;o--)z.push({date:U-o,isCurrentMonth:!1,isToday:!1,hasTasks:!1});const I=new Date,P=x===I.getFullYear()&&C===I.getMonth();for(let o=1;o<=R;o++){const t=`${x}-${String(C+1).padStart(2,"0")}-${String(o).padStart(2,"0")}`,l=i.tasks.some($=>$.dueDate===t);z.push({date:o,isCurrentMonth:!0,isToday:P&&o===I.getDate(),hasTasks:l})}const B=42-z.length;for(let o=1;o<=B;o++)z.push({date:o,isCurrentMonth:!1,isToday:!1,hasTasks:!1});return z.slice(0,42)}),_=()=>{n.value===0?(n.value=11,r.value--):n.value--},p=()=>{n.value===11?(n.value=0,r.value++):n.value++};return W(()=>{const x=new Date;r.value=x.getFullYear(),n.value=x.getMonth()}),(x,C)=>(m(),H(S,{class:"ocean-card pa-6 h-100",elevation:"0"},{default:a(()=>[e("div",ye,[e("div",_e,[s(L,{icon:"mdi-chevron-left",variant:"text",size:"small",onClick:_,color:"primary"}),e("div",we,c(f.value),1),s(L,{icon:"mdi-chevron-right",variant:"text",size:"small",onClick:p,color:"primary"})])]),e("div",ke,[(m(),h(V,null,j(d,v=>e("div",{key:v,class:"calendar-day-header text-caption font-weight-bold text-medium-emphasis text-center"},c(v),1)),64)),(m(!0),h(V,null,j(u.value,(v,N)=>(m(),h("div",{key:N,class:E(["calendar-day text-center",{"current-month":v.isCurrentMonth,"other-month":!v.isCurrentMonth,today:v.isToday,"has-tasks":v.hasTasks}])},[e("div",De,c(v.date),1),v.hasTasks?(m(),h("div",Le)):X("",!0)],2))),128))])]),_:1}))}},Te=F(Se,[["__scopeId","data-v-8b4a21d1"]]),Ce={class:"d-flex flex-column align-center justify-center h-100"},$e={class:"clock-display mb-2"},Me={class:"time-display text-h2 font-weight-black text-primary"},ze={class:"date-display text-body-1 text-center text-medium-emphasis font-weight-medium"},Ve={class:"clock-icon mt-4"},je={__name:"ClockWidget",setup(g){const i=k(""),r=k("");let n=null;const d=()=>{const f=new Date,u=String(f.getHours()).padStart(2,"0"),_=String(f.getMinutes()).padStart(2,"0"),p=String(f.getSeconds()).padStart(2,"0");i.value=`${u}:${_}:${p}`,r.value=f.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})};return W(()=>{d(),n=setInterval(d,1e3)}),Z(()=>{n&&clearInterval(n)}),(f,u)=>(m(),H(S,{class:"ocean-card pa-6 h-100",elevation:"0"},{default:a(()=>[e("div",Ce,[e("div",$e,[e("div",Me,c(i.value),1),e("div",ze,c(r.value),1)]),e("div",Ve,[s(y,{icon:"mdi-clock-outline",size:"48",color:"primary",class:"pulse-slow"})])])]),_:1}))}},Ie=F(je,[["__scopeId","data-v-1ade4d6f"]]),Ae={class:"d-flex flex-column flex-md-row align-center justify-space-between z-index-1"},He={class:"mb-6 mb-md-0 text-center text-md-left"},Ne={class:"d-flex align-center justify-center justify-md-start mb-3"},Re={class:"text-h3 font-weight-black mb-3 text-on-background tracking-tight"},Pe={class:"text-primary"},Ke={class:"d-flex gap-3 justify-center justify-md-start"},Ee={class:"progress-circle-container mx-auto mx-md-0 pl-md-8"},Oe={class:"text-center"},Fe={class:"text-h3 font-weight-black text-on-background"},Ue={class:"streak-flame mb-4 pulse-animation"},Be={class:"text-display-1 font-weight-black text-white mb-1 drop-shadow"},Xe={class:"d-flex align-end justify-center gap-2 h-100 w-100 px-4",style:{height:"60px"}},Ye={class:"text-caption text-white mt-1 font-weight-bold opacity-80",style:{"font-size":"10px"}},We={class:"pa-5 border-b d-flex justify-space-between align-center"},Ge={class:"text-h6 font-weight-bold d-flex align-center text-on-surface"},qe={class:"checkbox-wrapper mr-4"},Je={key:0,class:"text-error font-weight-bold"},Ze={key:1,class:"d-flex flex-column align-center justify-center flex-grow-1 pa-6 text-center text-medium-emphasis"},Qe={class:"rpg-header pa-6 text-white relative overflow-hidden flex-grow-0"},et={class:"d-flex justify-space-between align-center relative z-10"},tt={class:"text-h4 font-weight-black mb-1"},st={class:"relative d-flex align-center justify-center hover-scale"},at={class:"mt-4 px-2"},ot={class:"d-flex justify-space-between align-items-center mb-2"},lt={class:"text-caption font-weight-bold text-white"},nt={key:0,class:"text-caption text-center mt-2 text-accent font-weight-bold pulse-text"},it={class:"pa-5 flex-grow-1 bg-surface-soft"},rt={class:"stat-box pa-4 rounded-xl bg-surface h-100 d-flex flex-column justify-center align-center text-center border-thin hover-lift"},dt={class:"stat-box pa-4 rounded-xl bg-surface h-100 d-flex flex-column justify-center align-center text-center border-thin hover-lift"},ct={class:"d-flex flex-column h-100 gap-4"},ut={class:"d-flex justify-space-between align-start z-10"},mt={class:"d-flex align-center"},ft={class:"icon-box bg-green-lighten-5 pa-2 rounded-lg mr-3"},pt={class:"d-flex justify-space-between align-center mb-4"},vt={class:"d-flex justify-space-between px-1"},ht={class:"text-h4 emoji-text"},gt={class:"d-flex justify-space-between align-center mb-6"},xt={class:"d-flex align-center"},bt={class:"font-weight-bold"},yt="Langkah kecil setiap hari membawa perubahan besar.",_t={__name:"DashboardView",setup(g){const i=ee(),r=de(),n=J(),d=k({}),f=k("User"),u=k(null),_=["ðŸ˜«","ðŸ˜•","ðŸ˜","ðŸ™‚","ðŸ¤©"],p=k(!1),x=k(0),C=[{label:"S",active:!0},{label:"S",active:!0},{label:"R",active:!1},{label:"K",active:!0},{label:"J",active:!0},{label:"S",active:!0},{label:"M",active:!0}],v=T(()=>{const o=new Date().getHours();return o<12?"Pagi":o<18?"Sore":"Malam"}),N=T(()=>new Date().toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long"})),R=T(()=>i.xp/i.xpToNextLevel*100),M=T(()=>R.value>80),z=o=>o==="tinggi"?50:o==="sedang"?30:10,U=o=>o==="tinggi"?"error":o==="sedang"?"warning":"info",I=o=>{if(!o)return!1;const t=new Date;t.setHours(0,0,0,0);const l=new Date(o);return l.setHours(0,0,0,0),l<t},P=T(()=>{const o=n.todayTasks;if(o.length===0)return 100;const t=n.tasks.filter(l=>l.completed&&l.dueDate&&new Date(l.dueDate).setHours(0,0,0,0)<=new Date().setHours(0,0,0,0)).length;return Math.min(t/o.length*100,100)});T(()=>r.habits);const B=()=>{console.log("Add new habit clicked")};return W(()=>{d.value={[Y(new Date,"yyyy-MM-dd")]:5,[Y(new Date(Date.now()-864e5),"yyyy-MM-dd")]:3}}),(o,t)=>(m(),H(ue,{fluid:"",class:"dashboard-container pa-4 pa-md-8"},{default:a(()=>[s(A,null,{default:a(()=>[s(w,{cols:"12",md:"8"},{default:a(()=>[s(S,{class:"ocean-card hero-card h-100 pa-6 pa-md-8 d-flex flex-column justify-center relative overflow-hidden",elevation:"0"},{default:a(()=>[t[8]||(t[8]=e("div",{class:"hero-bg-circle"},null,-1)),e("div",Ae,[e("div",He,[e("div",Ne,[s(K,{size:"small",color:"surface-soft",variant:"flat",class:"font-weight-bold text-primary px-3 elevation-1"},{default:a(()=>[s(y,{start:"",icon:"mdi-calendar-today",size:"small"}),b(" "+c(N.value),1)]),_:1})]),e("h1",Re,[b(" Selamat "+c(v.value)+", ",1),t[4]||(t[4]=e("br",null,null,-1)),e("span",Pe,c(f.value)+"!",1)]),e("p",{class:"text-body-1 text-medium-emphasis font-weight-medium mb-6",style:{"max-width":"450px","line-height":"1.6"}},' "'+c(yt)+'" '),e("div",Ke,[s(L,{color:"primary",elevation:"2",rounded:"xl",size:"large","prepend-icon":"mdi-plus",class:"px-8 font-weight-bold btn-hover",onClick:B},{default:a(()=>[...t[5]||(t[5]=[b(" Kebiasaan Baru ",-1)])]),_:1}),s(L,{color:"surface",variant:"flat",rounded:"xl",size:"large","prepend-icon":"mdi-bullseye-arrow",class:"px-8 font-weight-bold text-medium-emphasis btn-hover border-thin",onClick:t[0]||(t[0]=l=>o.$router.push("/focus"))},{default:a(()=>[...t[6]||(t[6]=[b(" Mode Fokus ",-1)])]),_:1})])]),e("div",Ee,[s(G,{"model-value":P.value,size:180,width:18,color:"secondary","bg-color":"rgba(var(--v-theme-on-surface), 0.05)",class:"drop-shadow-lg"},{default:a(()=>[e("div",Oe,[e("div",Fe,c(Math.round(P.value))+"% ",1),t[7]||(t[7]=e("div",{class:"text-caption font-weight-bold text-medium-emphasis text-uppercase tracking-wide"}," Selesai ",-1))])]),_:1},8,["model-value"])])])]),_:1})]),_:1}),s(w,{cols:"12",md:"4"},{default:a(()=>[s(S,{class:"ocean-card streak-card h-100 pa-6 pa-md-8 d-flex flex-column align-center justify-center text-center",elevation:"0"},{default:a(()=>[e("div",Ue,[t[9]||(t[9]=e("div",{class:"flame-bg"},null,-1)),s(y,{icon:"mdi-fire",size:"64",color:"white",class:"relative z-10"})]),e("div",Be,c(D(i).streak),1),t[10]||(t[10]=e("div",{class:"text-h6 text-white font-weight-bold opacity-90 tracking-wide mb-6"}," STREAK HARI ",-1)),e("div",Xe,[(m(),h(V,null,j(C,(l,$)=>e("div",{key:$,class:"d-flex flex-column align-center flex-grow-1"},[e("div",{class:"streak-bar rounded-t-sm transition-all",style:q({height:l.active?"100%":"30%",opacity:l.active?1:.4,backgroundColor:"white"})},null,4),e("div",Ye,c(l.label),1)])),64))])]),_:1})]),_:1})]),_:1}),s(A,{class:"mt-2"},{default:a(()=>[s(w,{cols:"12",md:"4"},{default:a(()=>[s(S,{class:"ocean-card h-100 d-flex flex-column bg-surface-soft",elevation:"0"},{default:a(()=>[e("div",We,[e("h3",Ge,[s(y,{icon:"mdi-checkbox-marked-circle",color:"secondary",class:"mr-3"}),t[11]||(t[11]=b(" Fokus Hari Ini ",-1))]),s(L,{icon:"mdi-chevron-right",variant:"text",size:"small",color:"primary",onClick:t[1]||(t[1]=l=>o.$router.push("/todo"))})]),D(n).todayTasks.length>0?(m(),H(te,{key:0,class:"flex-grow-1 bg-transparent pa-3"},{default:a(()=>[s(Q,{name:"list",tag:"div"},{default:a(()=>[(m(!0),h(V,null,j(D(n).todayTasks,l=>(m(),H(le,{key:l.id,value:l.id,rounded:"lg",class:"mb-2 task-item py-3",onClick:$=>D(n).toggleTask(l.id),elevation:"0"},{prepend:a(()=>[e("div",qe,[s(y,{icon:l.completed?"mdi-check-circle":"mdi-circle-outline",color:l.completed?"secondary":"medium-emphasis",size:"28",class:"transition-all scale-on-active"},null,8,["icon","color"])])]),append:a(()=>[s(K,{size:"x-small",color:"accent",variant:"tonal",class:"font-weight-bold"},{default:a(()=>[b(" +"+c(z(l.priority))+" XP ",1)]),_:2},1024)]),default:a(()=>[s(ne,{class:E(["font-weight-bold text-body-1",{"text-decoration-line-through text-medium-emphasis":l.completed}])},{default:a(()=>[b(c(l.title),1)]),_:2},1032,["class"]),s(ie,{class:"text-caption mt-1"},{default:a(()=>[s(K,{size:"x-small",color:U(l.priority),variant:"tonal",class:"mr-2"},{default:a(()=>[b(c(l.priority),1)]),_:2},1032,["color"]),I(l.dueDate)?(m(),h("span",Je,[s(y,{icon:"mdi-alert-circle",size:"x-small"}),t[12]||(t[12]=b(" Terlambat ",-1))])):X("",!0)]),_:2},1024)]),_:2},1032,["value","onClick"]))),128))]),_:1})]),_:1})):(m(),h("div",Ze,[s(y,{icon:"mdi-check-all",size:"64",class:"mb-4 opacity-30"}),t[14]||(t[14]=e("p",{class:"text-h6 font-weight-medium mb-1"},"Semua selesai!",-1)),t[15]||(t[15]=e("p",{class:"text-body-2 mb-4"}," Tidak ada tugas untuk hari ini. Bagus sekali! ",-1)),s(L,{variant:"tonal",color:"primary",rounded:"pill",size:"small",onClick:t[2]||(t[2]=l=>o.$router.push("/todo"))},{default:a(()=>[...t[13]||(t[13]=[b(" Lihat Semua Tugas ",-1)])]),_:1})]))]),_:1})]),_:1}),s(w,{cols:"12",md:"4"},{default:a(()=>[s(S,{class:"ocean-card h-100 pa-0 overflow-hidden d-flex flex-column",elevation:"0"},{default:a(()=>[e("div",Qe,[t[20]||(t[20]=e("div",{class:"absolute-circle circle-1"},null,-1)),t[21]||(t[21]=e("div",{class:"absolute-circle circle-2"},null,-1)),e("div",et,[e("div",null,[t[17]||(t[17]=e("div",{class:"text-overline font-weight-bold opacity-80 mb-1"}," STATISTIK KARAKTER ",-1)),e("div",tt," Level "+c(D(i).level),1),s(K,{size:"x-small",color:"white",variant:"outlined",class:"font-weight-bold"},{default:a(()=>[...t[16]||(t[16]=[b("Master Produktivitas",-1)])]),_:1})]),e("div",st,[s(G,{"model-value":D(i).xp/D(i).xpToNextLevel*100,size:80,width:8,color:"accent","bg-color":"rgba(255,255,255,0.2)"},{default:a(()=>[s(se,{size:"64",class:"border-2-white bg-surface"},{default:a(()=>[s(ae,{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=Felix&backgroundColor=b6e3f4",alt:"Avatar"})]),_:1})]),_:1},8,["model-value"]),t[18]||(t[18]=e("div",{class:"xp-badge"},"XP",-1))])]),e("div",at,[e("div",ot,[t[19]||(t[19]=e("div",{class:"text-caption font-weight-bold text-white opacity-80"}," XP PROGRESS ",-1)),e("div",lt,c(D(i).xp)+" / "+c(D(i).xpToNextLevel),1)]),s(oe,{"model-value":R.value,height:"8",rounded:"","bg-color":"rgba(255, 255, 255, 0.2)",color:"accent",class:E({"xp-glow":M.value})},null,8,["model-value","class"]),M.value?(m(),h("div",nt," ðŸ”¥ Hampir Level Up! ")):X("",!0)])]),e("div",it,[s(A,{dense:"",class:"h-100"},{default:a(()=>[s(w,{cols:"6"},{default:a(()=>[e("div",rt,[s(y,{icon:"mdi-brain",color:"primary",class:"mb-2"}),t[22]||(t[22]=e("div",{class:"text-caption text-medium-emphasis font-weight-bold"}," INTELEK ",-1)),t[23]||(t[23]=e("div",{class:"text-h5 font-weight-black text-on-surface"}," 12 ",-1))])]),_:1}),s(w,{cols:"6"},{default:a(()=>[e("div",dt,[s(y,{icon:"mdi-arm-flex",color:"error",class:"mb-2"}),t[24]||(t[24]=e("div",{class:"text-caption text-medium-emphasis font-weight-bold"}," KEKUATAN ",-1)),t[25]||(t[25]=e("div",{class:"text-h5 font-weight-black text-on-surface"},"8",-1))])]),_:1})]),_:1})])]),_:1})]),_:1}),s(w,{cols:"12",md:"4"},{default:a(()=>[e("div",ct,[s(S,{class:"ocean-card flex-grow-1 pa-5 d-flex flex-column justify-space-between relative overflow-hidden bg-surface-soft",elevation:"0"},{default:a(()=>[e("div",ut,[e("div",mt,[e("div",ft,[s(y,{icon:"mdi-wallet",color:"success",size:"24"})]),t[26]||(t[26]=e("div",null,[e("div",{class:"text-caption text-medium-emphasis font-weight-bold"}," PENGELUARAN HARIAN "),e("div",{class:"text-h6 font-weight-black text-on-surface"}," Rp 150.000 ")],-1))]),s(L,{icon:"mdi-plus",size:"small",variant:"flat",color:"success",class:"rounded-lg"})]),t[27]||(t[27]=e("div",{class:"sparkline-container mt-4"},[e("svg",{viewBox:"0 0 100 30",class:"w-100",preserveAspectRatio:"none"},[e("path",{d:"M0,30 L0,20 L10,25 L20,15 L30,22 L40,10 L50,18 L60,5 L70,15 L80,10 L90,20 L100,15 L100,30 Z",fill:"rgba(var(--v-theme-success), 0.1)"}),e("path",{d:"M0,20 L10,25 L20,15 L30,22 L40,10 L50,18 L60,5 L70,15 L80,10 L90,20 L100,15",fill:"none",stroke:"rgb(var(--v-theme-success))","stroke-width":"2","vector-effect":"non-scaling-stroke"})])],-1))]),_:1}),s(S,{class:"ocean-card flex-grow-1 pa-5 bg-surface-soft",elevation:"0"},{default:a(()=>[e("div",pt,[t[28]||(t[28]=e("div",{class:"text-caption text-medium-emphasis font-weight-bold"}," PELACAK MOOD ",-1)),s(y,{icon:"mdi-emoticon",color:"medium-emphasis",size:"small"})]),e("div",vt,[(m(),h(V,null,j(_,(l,$)=>s(L,{key:$,icon:"",variant:"text",size:"large",class:E([{"mood-selected":u.value===$},"mood-btn"]),onClick:wt=>u.value=$},{default:a(()=>[e("span",ht,c(l),1)]),_:2},1032,["class","onClick"])),64))])]),_:1})])]),_:1})]),_:1}),s(A,{class:"mt-2"},{default:a(()=>[s(w,{cols:"12",md:"6"},{default:a(()=>[s(Te)]),_:1}),s(w,{cols:"12",md:"6"},{default:a(()=>[s(Ie)]),_:1})]),_:1}),s(A,{class:"mt-2"},{default:a(()=>[s(w,{cols:"12"},{default:a(()=>[s(S,{class:"ocean-card pa-6 pa-md-8 bg-surface-soft",elevation:"0"},{default:a(()=>[e("div",gt,[t[30]||(t[30]=e("div",null,[e("h3",{class:"text-h6 font-weight-bold text-on-surface"}," Log Aktivitas "),e("p",{class:"text-body-2 text-medium-emphasis"}," Konsistensi Anda selama setahun terakhir ")],-1)),s(L,{variant:"text",size:"small",color:"primary","prepend-icon":"mdi-calendar"},{default:a(()=>[...t[29]||(t[29]=[b("Lihat Riwayat Lengkap",-1)])]),_:1})]),s(be,{data:d.value},null,8,["data"])]),_:1})]),_:1})]),_:1}),s(ce,{modelValue:p.value,"onUpdate:modelValue":t[3]||(t[3]=l=>p.value=l),timeout:2e3,color:"success",location:"top",rounded:"pill",class:"mt-4"},{default:a(()=>[e("div",xt,[s(y,{class:"mr-2",icon:"mdi-check-circle"}),e("span",bt,"Kebiasaan Selesai! +"+c(x.value)+" XP",1)])]),_:1},8,["modelValue"])]),_:1}))}},jt=F(_t,[["__scopeId","data-v-6ffce3ad"]]);export{jt as default};
