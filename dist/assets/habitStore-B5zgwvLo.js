import{M as o}from"./vendor-Cz5JWIRj.js";import{u as r}from"./index-BsOJLOR7.js";const p=o("habit",{state:()=>({habits:[]}),actions:{addHabit(t){if(!t.title||!t.xp)return console.error("Habit title and xp are required");const e={id:Date.now(),...t,createdAt:new Date,completedDates:[]};this.habits.push(e)},completeHabit(t){var a;const e=this.habits.find(s=>s.id===t);if(e){const s=new Date().setHours(0,0,0,0);((a=e.completedDates)==null?void 0:a.some(i=>new Date(i).setHours(0,0,0,0)===s))||(e.completedDates||(e.completedDates=[]),e.completedDates.push(new Date().toISOString()),r().addXP(e.xp))}},deleteHabit(t){this.habits=this.habits.filter(e=>e.id!==t)},getUserData(){return{habits:this.habits}},loadUserData(t){t&&t.habits&&(this.habits=t.habits)}},persist:!0});export{p as u};
