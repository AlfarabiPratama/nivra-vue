import{u as z}from"./todoStore-Do1tipFr.js";import{_ as I,r as h,m as y,p as L,c as N,o as c,a as W,d as o,b as p,i as f,t as m,e as d,F as g,f as _,n as $,j,V as E}from"./index-CaWm9mxH.js";const H={class:"calendar-header mb-4"},J={class:"d-flex justify-space-between align-center"},K={class:"text-h6 font-weight-bold text-primary"},O={class:"calendar-grid"},R={class:"day-number text-body-2"},q={key:0,class:"task-indicator"},A={__name:"CalendarWidget",setup(G){const D=z();h(new Date);const r=h(new Date().getFullYear()),s=h(new Date().getMonth()),k=["Min","Sen","Sel","Rab","Kam","Jum","Sab"],M=y(()=>new Date(r.value,s.value).toLocaleDateString("id-ID",{month:"long",year:"numeric"})),x=y(()=>{const a=r.value,n=s.value,t=new Date(a,n,1),S=new Date(a,n+1,0).getDate();let i=t.getDay();i=i===0?6:i-1;const l=[],T=new Date(a,n,0).getDate();for(let e=i-1;e>=0;e--)l.push({date:T-e,isCurrentMonth:!1,isToday:!1,hasTasks:!1});const u=new Date,b=a===u.getFullYear()&&n===u.getMonth();for(let e=1;e<=S;e++){const Y=`${a}-${String(n+1).padStart(2,"0")}-${String(e).padStart(2,"0")}`,B=D.tasks.some(F=>F.dueDate===Y);l.push({date:e,isCurrentMonth:!0,isToday:b&&e===u.getDate(),hasTasks:B})}const V=42-l.length;for(let e=1;e<=V;e++)l.push({date:e,isCurrentMonth:!1,isToday:!1,hasTasks:!1});return l.slice(0,42)}),w=()=>{s.value===0?(s.value=11,r.value--):s.value--},C=()=>{s.value===11?(s.value=0,r.value++):s.value++};return L(()=>{const a=new Date;r.value=a.getFullYear(),s.value=a.getMonth()}),(a,n)=>(c(),N(E,{class:"ocean-card pa-6 h-100",elevation:"0"},{default:W(()=>[o("div",H,[o("div",J,[p(f,{icon:"mdi-chevron-left",variant:"text",size:"small",onClick:w,color:"primary"}),o("div",K,m(M.value),1),p(f,{icon:"mdi-chevron-right",variant:"text",size:"small",onClick:C,color:"primary"})])]),o("div",O,[(c(),d(g,null,_(k,t=>o("div",{key:t,class:"calendar-day-header text-caption font-weight-bold text-medium-emphasis text-center"},m(t),1)),64)),(c(!0),d(g,null,_(x.value,(t,v)=>(c(),d("div",{key:v,class:$(["calendar-day text-center",{"current-month":t.isCurrentMonth,"other-month":!t.isCurrentMonth,today:t.isToday,"has-tasks":t.hasTasks}])},[o("div",R,m(t.date),1),t.hasTasks?(c(),d("div",q)):j("",!0)],2))),128))])]),_:1}))}},U=I(A,[["__scopeId","data-v-8b4a21d1"]]);export{U as default};
