import{H as p,d as f,c as s,u as g}from"./index-BO5ot4Aw.js";const k=p("todo",()=>{const o=f([{id:1,title:"Selesaikan laporan proyek",completed:!1,category:"Pekerjaan",priority:"tinggi",dueDate:"2023-10-30"},{id:2,title:"Beli bahan makanan",completed:!1,category:"Belanja",priority:"sedang",dueDate:"2023-10-28"},{id:3,title:"Jogging pagi",completed:!0,category:"Kesehatan",priority:"rendah",dueDate:"2023-10-27"}]),i=s(()=>o.value.filter(e=>!e.completed).length),l=e=>{switch(e){case"today":const t=new Date().toISOString().split("T")[0];return o.value.filter(a=>a.dueDate===t&&!a.completed);case"important":return o.value.filter(a=>a.priority==="tinggi"&&!a.completed);case"completed":return o.value.filter(a=>a.completed);default:return o.value}},n=s(()=>{const e=new Date;return e.setHours(0,0,0,0),o.value.filter(t=>{if(t.completed||!t.dueDate)return!1;const a=new Date(t.dueDate);return a.setHours(0,0,0,0),a<=e}).slice(0,5)});function d(e){o.value.push({id:Date.now(),completed:!1,...e})}function u(e){const t=o.value.find(a=>a.id===e);if(t)if(t.completed=!t.completed,t.completed){t.completedAt=new Date().toISOString();const a=g();let r=10;t.priority==="tinggi"?r=50:t.priority==="sedang"&&(r=30),a.addXP(r)}else delete t.completedAt}function c(e){o.value=o.value.filter(t=>t.id!==e)}return{tasks:o,pendingTasks:i,filteredTasks:l,todayTasks:n,addTask:d,toggleTask:u,deleteTask:c,getUserData:()=>({tasks:o.value}),loadUserData:e=>{e&&e.tasks&&(o.value=e.tasks)}}},{persist:!0});export{k as u};
