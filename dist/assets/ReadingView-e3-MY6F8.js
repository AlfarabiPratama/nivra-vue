import{O as B,r as c,m as C,c as h,a as o,b as a,d as s,i as V,h as v,e as P,f as y,F as L,V as w,H as T,J as U,M as D,o as b,P as S,t as x,y as F}from"./index-CaWm9mxH.js";import{V as g,a as k}from"./VRow-DBbWNSlZ.js";import{V as p}from"./VTextField-ngYOOfdz.js";import{V as H}from"./VDialog-CqtD_Ddv.js";import{V as R}from"./VContainer-DhN86Pgz.js";import"./forwardRefs-Bi__BXdB.js";import"./dialog-transition-B-yByMG-.js";const _=B("reading",()=>{const r=c([{id:1,title:"Atomic Habits",author:"James Clear",cover:"https://images.unsplash.com/photo-1589829085413-56de8ae18c73?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80",progress:60,totalPages:320,currentPage:192},{id:2,title:"Dune",author:"Frank Herbert",cover:"https://images.unsplash.com/photo-1541963463532-d68292c34b19?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80",progress:25,totalPages:412,currentPage:103}]);return{books:r,addBook:t=>{r.value.push({id:Date.now(),progress:0,currentPage:0,...t})},deleteBook:t=>{r.value=r.value.filter(n=>n.id!==t)},updateProgress:(t,n)=>{const i=r.value.find(m=>m.id===t);i&&(i.currentPage=n,i.progress=Math.round(n/i.totalPages*100))}}},{persist:!0}),j={class:"pa-4 flex-grow-1 d-flex flex-column justify-center"},q={class:"text-h6 font-weight-bold"},A={class:"text-body-2 text-grey mb-4"},J={class:"d-flex justify-space-between text-caption mb-1"},z={__name:"ReadingView",setup(r){const f=_(),u=c(""),d=c(!1),t=c({title:"",author:"",cover:"",totalPages:0}),n=C(()=>u.value?f.books.filter(m=>m.title.toLowerCase().includes(u.value.toLowerCase())||m.author.toLowerCase().includes(u.value.toLowerCase())):f.books),i=()=>{t.value.title&&t.value.author&&t.value.totalPages&&(f.addBook({...t.value,cover:t.value.cover||"https://images.unsplash.com/photo-1543002588-bfa74002ed7e?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80"}),d.value=!1,t.value={title:"",author:"",cover:"",totalPages:0})};return(m,e)=>(b(),h(R,{fluid:"",class:"pa-6 bg-background h-100"},{default:o(()=>[a(k,{align:"center",class:"mb-6"},{default:o(()=>[a(g,{cols:"12",md:"4"},{default:o(()=>[...e[8]||(e[8]=[s("h1",{class:"text-h4 font-weight-bold"},"Daftar Bacaan",-1)])]),_:1}),a(g,{cols:"12",md:"4"},{default:o(()=>[a(p,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=l=>u.value=l),"prepend-inner-icon":"mdi-magnify",label:"Cari buku...",variant:"outlined",density:"compact","hide-details":"",rounded:"lg","bg-color":"surface"},null,8,["modelValue"])]),_:1}),a(g,{cols:"12",md:"4",class:"text-right"},{default:o(()=>[a(V,{color:"primary","prepend-icon":"mdi-plus",height:"44",rounded:"lg",onClick:e[1]||(e[1]=l=>d.value=!0)},{default:o(()=>[...e[9]||(e[9]=[v(" Tambah Buku ",-1)])]),_:1})]),_:1})]),_:1}),a(k,null,{default:o(()=>[(b(!0),P(L,null,y(n.value,l=>(b(),h(g,{key:l.id,cols:"12",md:"6",lg:"4"},{default:o(()=>[a(w,{class:"rounded-xl pa-0 d-flex",color:"surface",elevation:"0"},{default:o(()=>[a(S,{src:l.cover,width:"100",height:"140",cover:"",class:"rounded-s-xl"},null,8,["src"]),s("div",j,[s("div",q,x(l.title),1),s("div",A,x(l.author),1),s("div",J,[e[10]||(e[10]=s("span",null,"Progres",-1)),s("span",null,x(l.progress)+"%",1)]),a(F,{"model-value":l.progress,color:"primary",height:"6",rounded:"","bg-color":"surface-variant"},null,8,["model-value"])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),a(H,{modelValue:d.value,"onUpdate:modelValue":e[7]||(e[7]=l=>d.value=l),"max-width":"500"},{default:o(()=>[a(w,{class:"rounded-xl pa-4"},{default:o(()=>[a(T,{class:"text-h5 font-weight-bold mb-4"},{default:o(()=>[...e[11]||(e[11]=[v(" Tambah Buku Baru ",-1)])]),_:1}),a(U,null,{default:o(()=>[a(p,{modelValue:t.value.title,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.title=l),label:"Judul Buku",variant:"outlined",class:"mb-2"},null,8,["modelValue"]),a(p,{modelValue:t.value.author,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.author=l),label:"Penulis",variant:"outlined",class:"mb-2"},null,8,["modelValue"]),a(p,{modelValue:t.value.totalPages,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.totalPages=l),label:"Total Halaman",type:"number",variant:"outlined",class:"mb-2"},null,8,["modelValue"]),a(p,{modelValue:t.value.cover,"onUpdate:modelValue":e[5]||(e[5]=l=>t.value.cover=l),label:"URL Cover (Opsional)",variant:"outlined"},null,8,["modelValue"])]),_:1}),a(D,{class:"justify-end"},{default:o(()=>[a(V,{variant:"text",onClick:e[6]||(e[6]=l=>d.value=!1)},{default:o(()=>[...e[12]||(e[12]=[v("Batal",-1)])]),_:1}),a(V,{color:"primary",variant:"flat",onClick:i},{default:o(()=>[...e[13]||(e[13]=[v("Simpan",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};export{z as default};
