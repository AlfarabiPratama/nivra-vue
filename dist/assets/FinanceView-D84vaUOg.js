import{u as M}from"./financeStore-B_3xezc-.js";import{C as $,p as O,a as H,b as J,B as q,c as W,L as Z,d as G}from"./index-D3-FP3d8.js";import{_ as S,c as T,a as w,o as y,h as t,m as f,d as L,g as B,w as a,b as l,l as r,f as n,t as m,j as Q,r as X,F as Y,i as ee}from"./index-BO5ot4Aw.js";const te={class:"chart-container"},ae={__name:"FinanceChart",props:{transactions:{type:Array,required:!0}},setup(h){$.register(O,H,J,q,W,Z);const c=h,p=T(()=>{const i=c.transactions.filter(b=>b.type==="expense"),u={};return i.forEach(b=>{const d=b.category||"Lainnya";u[d]||(u[d]=0),u[d]+=b.amount}),u}),s=T(()=>{const i=Object.keys(p.value),u=Object.values(p.value);return{labels:i,datasets:[{label:"Pengeluaran (Rp)",data:u,backgroundColor:["rgba(141, 163, 179, 0.8)","rgba(95, 175, 139, 0.8)","rgba(255, 183, 77, 0.8)","rgba(229, 115, 115, 0.8)","rgba(100, 181, 246, 0.8)"],borderColor:["rgba(141, 163, 179, 1)","rgba(95, 175, 139, 1)","rgba(255, 183, 77, 1)","rgba(229, 115, 115, 1)","rgba(100, 181, 246, 1)"],borderWidth:2,borderRadius:8}]}}),v={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(39, 53, 68, 0.9)",titleColor:"#ffffff",bodyColor:"#ffffff",padding:12,borderRadius:8,callbacks:{label:function(i){return"Rp "+i.parsed.y.toLocaleString("id-ID")}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(i){return"Rp "+i.toLocaleString("id-ID")},color:"#8DA3B3"},grid:{color:"rgba(141, 163, 179, 0.1)"}},x:{ticks:{color:"#8DA3B3"},grid:{display:!1}}}};return(i,u)=>(y(),w("div",te,[t(f(G),{data:s.value,options:v},null,8,["data"])]))}},oe=S(ae,[["__scopeId","data-v-580e2ff4"]]),le={class:"d-flex justify-space-between align-center mb-6"},ne={class:"absolute-bg-icon opacity-10"},se={class:"text-h4 font-weight-black text-primary"},re={class:"absolute-bg-icon opacity-10"},ie={class:"text-h4 font-weight-black text-success"},de={class:"absolute-bg-icon opacity-10"},ce={class:"text-h4 font-weight-black text-error"},ue={class:"pa-4 border-b d-flex justify-space-between align-center"},me={key:0,class:"pa-8 text-center text-medium-emphasis"},pe={__name:"FinanceView",setup(h){const c=M(),p=L(!1),s=L({title:"",amount:null,type:"expense",category:"Lainnya"}),v=d=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(d),i=d=>new Date(d).toLocaleDateString("id-ID",{month:"short",day:"numeric"}),u=d=>({Makanan:"mdi-food",Transportasi:"mdi-bus",Hiburan:"mdi-movie",Pekerjaan:"mdi-briefcase",Lainnya:"mdi-dots-horizontal"})[d]||"mdi-circle-outline",b=()=>{s.value.title&&s.value.amount&&(c.addTransaction(s.value),p.value=!1,s.value={title:"",amount:null,type:"expense",category:"Lainnya"})};return(d,e)=>{const x=n("v-btn"),k=n("v-icon"),_=n("v-card"),g=n("v-col"),V=n("v-row"),j=n("v-avatar"),I=n("v-list-item-title"),F=n("v-list-item-subtitle"),z=n("v-list-item"),A=n("v-list"),P=n("v-card-title"),C=n("v-text-field"),D=n("v-select"),R=n("v-card-text"),N=n("v-spacer"),U=n("v-card-actions"),E=n("v-dialog"),K=n("v-container");return y(),B(K,{fluid:"",class:"pa-4 pa-md-8 h-100 bg-background"},{default:a(()=>[l("div",le,[e[8]||(e[8]=l("div",null,[l("h1",{class:"text-h4 font-weight-black text-on-background"},"Keuangan"),l("p",{class:"text-body-1 text-medium-emphasis"}," Kelola pemasukan dan pengeluaran Anda ")],-1)),t(x,{color:"primary","prepend-icon":"mdi-plus",rounded:"lg",elevation:"2",onClick:e[0]||(e[0]=o=>p.value=!0)},{default:a(()=>[...e[7]||(e[7]=[r(" Tambah Transaksi ",-1)])]),_:1})]),t(V,{class:"mb-6"},{default:a(()=>[t(g,{cols:"12",md:"4"},{default:a(()=>[t(_,{class:"ocean-card h-100 pa-4 d-flex flex-column justify-center position-relative overflow-hidden"},{default:a(()=>[l("div",ne,[t(k,{size:"120",color:"primary"},{default:a(()=>[...e[9]||(e[9]=[r("mdi-wallet",-1)])]),_:1})]),e[10]||(e[10]=l("div",{class:"text-overline font-weight-bold text-medium-emphasis mb-1"}," Total Saldo ",-1)),l("div",se,m(v(f(c).balance)),1),e[11]||(e[11]=l("div",{class:"text-caption text-medium-emphasis mt-2"}," +12% dari bulan lalu ",-1))]),_:1})]),_:1}),t(g,{cols:"12",md:"4"},{default:a(()=>[t(_,{class:"ocean-card h-100 pa-4 d-flex flex-column justify-center position-relative overflow-hidden"},{default:a(()=>[l("div",re,[t(k,{size:"120",color:"success"},{default:a(()=>[...e[12]||(e[12]=[r("mdi-arrow-up-circle",-1)])]),_:1})]),e[13]||(e[13]=l("div",{class:"text-overline font-weight-bold text-medium-emphasis mb-1"}," Pemasukan ",-1)),l("div",ie,m(v(f(c).totalIncome)),1)]),_:1})]),_:1}),t(g,{cols:"12",md:"4"},{default:a(()=>[t(_,{class:"ocean-card h-100 pa-4 d-flex flex-column justify-center position-relative overflow-hidden"},{default:a(()=>[l("div",de,[t(k,{size:"120",color:"error"},{default:a(()=>[...e[14]||(e[14]=[r("mdi-arrow-down-circle",-1)])]),_:1})]),e[15]||(e[15]=l("div",{class:"text-overline font-weight-bold text-medium-emphasis mb-1"}," Pengeluaran ",-1)),l("div",ce,m(v(f(c).totalExpense)),1)]),_:1})]),_:1})]),_:1}),t(V,null,{default:a(()=>[t(g,{cols:"12",md:"8"},{default:a(()=>[t(_,{class:"ocean-card h-100 pa-0",elevation:"0"},{default:a(()=>[l("div",ue,[e[17]||(e[17]=l("h3",{class:"text-h6 font-weight-bold"},"Transaksi Terbaru",-1)),t(x,{variant:"text",size:"small",color:"primary"},{default:a(()=>[...e[16]||(e[16]=[r("Lihat Semua",-1)])]),_:1})]),t(A,{class:"bg-transparent pa-0"},{default:a(()=>[(y(!0),w(Y,null,X(f(c).recentTransactions,o=>(y(),B(z,{key:o.id,class:"transaction-item py-3 px-4 border-b"},{prepend:a(()=>[t(j,{color:o.type==="income"?"success-lighten-4":"error-lighten-4",size:"48",class:"rounded-lg mr-4"},{default:a(()=>[t(k,{color:o.type==="income"?"success":"error",size:"24"},{default:a(()=>[r(m(u(o.category)),1)]),_:2},1032,["color"])]),_:2},1032,["color"])]),append:a(()=>[l("div",{class:ee(["text-body-1 font-weight-black",o.type==="income"?"text-success":"text-error"])},m(o.type==="income"?"+":"-")+" "+m(v(o.amount)),3)]),default:a(()=>[t(I,{class:"font-weight-bold text-body-1 mb-1"},{default:a(()=>[r(m(o.title),1)]),_:2},1024),t(F,{class:"text-caption"},{default:a(()=>[r(m(o.category)+" â€¢ "+m(i(o.date)),1)]),_:2},1024)]),_:2},1024))),128)),f(c).transactions.length===0?(y(),w("div",me," Belum ada transaksi ")):Q("",!0)]),_:1})]),_:1})]),_:1}),t(g,{cols:"12",md:"4"},{default:a(()=>[t(_,{class:"ocean-card h-100 pa-4",elevation:"0"},{default:a(()=>[e[18]||(e[18]=l("h3",{class:"text-h6 font-weight-bold mb-4"}," Pengeluaran per Kategori ",-1)),t(oe,{transactions:f(c).transactions},null,8,["transactions"])]),_:1})]),_:1})]),_:1}),t(E,{modelValue:p.value,"onUpdate:modelValue":e[6]||(e[6]=o=>p.value=o),"max-width":"500"},{default:a(()=>[t(_,{class:"ocean-card pa-4"},{default:a(()=>[t(P,{class:"text-h5 font-weight-bold mb-4"},{default:a(()=>[...e[19]||(e[19]=[r(" Tambah Transaksi ",-1)])]),_:1}),t(R,null,{default:a(()=>[t(C,{modelValue:s.value.title,"onUpdate:modelValue":e[1]||(e[1]=o=>s.value.title=o),label:"Judul",variant:"outlined",density:"comfortable",class:"mb-2"},null,8,["modelValue"]),t(C,{modelValue:s.value.amount,"onUpdate:modelValue":e[2]||(e[2]=o=>s.value.amount=o),modelModifiers:{number:!0},label:"Jumlah (Rp)",type:"number",variant:"outlined",density:"comfortable",class:"mb-2"},null,8,["modelValue"]),t(D,{modelValue:s.value.type,"onUpdate:modelValue":e[3]||(e[3]=o=>s.value.type=o),items:[{title:"Pemasukan",value:"income"},{title:"Pengeluaran",value:"expense"}],label:"Tipe",variant:"outlined",density:"comfortable",class:"mb-2"},null,8,["modelValue"]),t(D,{modelValue:s.value.category,"onUpdate:modelValue":e[4]||(e[4]=o=>s.value.category=o),items:["Makanan","Transportasi","Hiburan","Pekerjaan","Lainnya"],label:"Kategori",variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1}),t(U,null,{default:a(()=>[t(N),t(x,{variant:"text",onClick:e[5]||(e[5]=o=>p.value=!1)},{default:a(()=>[...e[20]||(e[20]=[r("Batal",-1)])]),_:1}),t(x,{color:"primary",variant:"flat",onClick:b},{default:a(()=>[...e[21]||(e[21]=[r(" Simpan ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},_e=S(pe,[["__scopeId","data-v-bb4fa930"]]);export{_e as default};
