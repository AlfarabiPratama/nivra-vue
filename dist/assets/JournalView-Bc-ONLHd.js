import{u as I}from"./journalStore-CkzrgThM.js";import{C as W,c as P,L as T,P as U,e as F,p as q,a as O,b as G,i as K,f as Q}from"./index-D3-FP3d8.js";import{_ as S,c as X,a as g,o as v,h as o,m as h,d as B,g as j,w as a,b as n,l as b,f as l,j as Y,r as E,F as V,t as _,i as Z}from"./index-BO5ot4Aw.js";import{f as ee}from"./format-D0X3cCcH.js";import{i as te}from"./id-D5Z0Rpwl.js";const oe={class:"mood-chart-container"},ae={__name:"MoodChart",props:{entries:{type:Array,required:!0}},setup(y){W.register(P,T,U,F,q,O,G,K);const m=y,d={"sangat bahagia":5,bahagia:4,netral:3,sedih:2,"sangat sedih":1},s=X(()=>{const i=[...m.entries].sort((c,r)=>new Date(c.date)-new Date(r.date)).slice(-14),p=i.map(c=>ee(new Date(c.date),"d MMM",{locale:te})),x=i.map(c=>d[c.mood]||3);return{labels:p,datasets:[{label:"Mood",data:x,borderColor:"#7C5CE2",backgroundColor:"rgba(124, 92, 226, 0.1)",borderWidth:3,fill:!0,tension:.4,pointRadius:6,pointHoverRadius:8,pointBackgroundColor:"#7C5CE2",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverBackgroundColor:"#7C5CE2",pointHoverBorderColor:"#fff",pointHoverBorderWidth:3}]}}),f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(30, 30, 46, 0.95)",titleColor:"#fff",bodyColor:"#fff",borderColor:"#7C5CE2",borderWidth:1,padding:12,displayColors:!1,callbacks:{label:function(i){return{5:"ðŸ˜„ Sangat Bahagia",4:"ðŸ™‚ Bahagia",3:"ðŸ˜ Netral",2:"ðŸ˜” Sedih",1:"ðŸ˜¢ Sangat Sedih"}[i.parsed.y]||"Netral"}}}},scales:{y:{min:0,max:6,ticks:{stepSize:1,color:"#9ca3af",font:{size:11},callback:function(i){return{5:"ðŸ˜„",4:"ðŸ™‚",3:"ðŸ˜",2:"ðŸ˜”",1:"ðŸ˜¢"}[i]||""}},grid:{color:"rgba(124, 92, 226, 0.1)",drawBorder:!1}},x:{ticks:{color:"#9ca3af",font:{size:11},maxRotation:45,minRotation:45},grid:{display:!1,drawBorder:!1}}},interaction:{intersect:!1,mode:"index"}};return(i,p)=>(v(),g("div",oe,[o(h(Q),{data:s.value,options:f},null,8,["data"])]))}},ne=S(ae,[["__scopeId","data-v-9c80bbc5"]]),le={class:"d-flex justify-space-between align-center mb-6"},se={class:"text-caption text-medium-emphasis font-weight-bold pt-1"},ie={class:"d-flex justify-space-between align-start mb-2"},re={class:"text-h6 font-weight-bold"},de={class:"text-h4"},ce={class:"text-body-1 text-medium-emphasis",style:{"white-space":"pre-line"}},ue={key:0,class:"text-center text-medium-emphasis py-8"},me={class:"mb-4"},pe={class:"d-flex justify-space-between px-2"},_e=["onClick"],ve={class:"text-h3 mb-1"},fe={class:"text-caption text-capitalize"},be={__name:"JournalView",setup(y){const m=I(),d=B(!1),s=B({title:"",content:"",mood:"happy"}),f=[{value:"happy",emoji:"ðŸ˜Š",color:"warning"},{value:"excited",emoji:"ðŸ¤©",color:"accent"},{value:"calm",emoji:"ðŸ˜Œ",color:"info"},{value:"tired",emoji:"ðŸ˜´",color:"grey"},{value:"sad",emoji:"ðŸ˜¢",color:"primary"},{value:"angry",emoji:"ðŸ˜ ",color:"error"}],i=r=>{const e=f.find(u=>u.value===r);return e?e.color:"primary"},p=r=>{const e=f.find(u=>u.value===r);return e?e.emoji:"ðŸ˜"},x=r=>new Date(r).toLocaleDateString("id-ID",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=()=>{s.value.title&&s.value.content&&(m.addEntry(s.value),d.value=!1,s.value={title:"",content:"",mood:"happy"})};return(r,e)=>{const u=l("v-btn"),C=l("v-card"),k=l("v-col"),w=l("v-row"),D=l("v-timeline-item"),M=l("v-timeline"),L=l("v-card-title"),A=l("v-text-field"),z=l("v-textarea"),J=l("v-card-text"),N=l("v-spacer"),H=l("v-card-actions"),R=l("v-dialog"),$=l("v-container");return v(),j($,{fluid:"",class:"pa-4 pa-md-8 h-100 bg-background"},{default:a(()=>[n("div",le,[e[6]||(e[6]=n("div",null,[n("h1",{class:"text-h4 font-weight-black text-on-background"},"Jurnal"),n("p",{class:"text-body-1 text-medium-emphasis"}," Catat pikiran dan perasaan Anda ")],-1)),o(u,{color:"primary","prepend-icon":"mdi-plus",rounded:"lg",elevation:"2",onClick:e[0]||(e[0]=t=>d.value=!0)},{default:a(()=>[...e[5]||(e[5]=[b(" Entri Baru ",-1)])]),_:1})]),o(w,{class:"mb-6"},{default:a(()=>[o(k,{cols:"12",md:"10",lg:"8",class:"mx-auto"},{default:a(()=>[o(C,{class:"ocean-card pa-4",elevation:"0"},{default:a(()=>[e[7]||(e[7]=n("h3",{class:"text-h6 font-weight-bold mb-4"}," Pelacak Mood (14 Hari Terakhir) ",-1)),o(ne,{entries:h(m).entries},null,8,["entries"])]),_:1})]),_:1})]),_:1}),o(w,null,{default:a(()=>[o(k,{cols:"12",md:"8",class:"mx-auto"},{default:a(()=>[o(M,{side:"end",align:"start","line-color":"primary",density:"comfortable"},{default:a(()=>[(v(!0),g(V,null,E(h(m).sortedEntries,t=>(v(),j(D,{key:t.id,"dot-color":i(t.mood),size:"small",width:"100%"},{opposite:a(()=>[n("div",se,_(x(t.date)),1)]),default:a(()=>[o(C,{class:"ocean-card pa-4 mb-4",elevation:"0"},{default:a(()=>[n("div",ie,[n("h3",re,_(t.title),1),n("div",de,_(p(t.mood)),1)]),n("p",ce,_(t.content),1)]),_:2},1024)]),_:2},1032,["dot-color"]))),128)),h(m).entries.length===0?(v(),g("div",ue," Belum ada entri jurnal. Mulailah menulis hari ini! ")):Y("",!0)]),_:1})]),_:1})]),_:1}),o(R,{modelValue:d.value,"onUpdate:modelValue":e[4]||(e[4]=t=>d.value=t),"max-width":"600"},{default:a(()=>[o(C,{class:"ocean-card pa-4"},{default:a(()=>[o(L,{class:"text-h5 font-weight-bold mb-4"},{default:a(()=>[...e[8]||(e[8]=[b(" Entri Baru ",-1)])]),_:1}),o(J,null,{default:a(()=>[o(A,{modelValue:s.value.title,"onUpdate:modelValue":e[1]||(e[1]=t=>s.value.title=t),label:"Judul",variant:"outlined",density:"comfortable",class:"mb-4"},null,8,["modelValue"]),n("div",me,[e[9]||(e[9]=n("label",{class:"text-caption font-weight-bold text-medium-emphasis mb-2 d-block"}," Bagaimana perasaan Anda? ",-1)),n("div",pe,[(v(),g(V,null,E(f,t=>n("div",{key:t.value,class:Z(["mood-btn cursor-pointer text-center",{"mood-selected":s.value.mood===t.value}]),onClick:ge=>s.value.mood=t.value},[n("div",ve,_(t.emoji),1),n("div",fe,_(t.value),1)],10,_e)),64))])]),o(z,{modelValue:s.value.content,"onUpdate:modelValue":e[2]||(e[2]=t=>s.value.content=t),label:"Isi Jurnal",variant:"outlined",rows:"6",placeholder:"Tuliskan pikiran Anda di sini..."},null,8,["modelValue"])]),_:1}),o(H,null,{default:a(()=>[o(N),o(u,{variant:"text",onClick:e[3]||(e[3]=t=>d.value=!1)},{default:a(()=>[...e[10]||(e[10]=[b("Batal",-1)])]),_:1}),o(u,{color:"primary",variant:"flat",onClick:c},{default:a(()=>[...e[11]||(e[11]=[b(" Simpan ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},we=S(be,[["__scopeId","data-v-5cb62683"]]);export{we as default};
