import{_ as U,c as T,a as x,o as f,b as e,F as I,r as N,n as q,d as D,e as G,f as u,g as P,w as a,h as s,t as m,i as O,j as Y,k as re,u as ce,l as w,m as L,T as de}from"./index-BO5ot4Aw.js";import{t as V,c as ue,f as W}from"./format-D0X3cCcH.js";import{u as Z}from"./todoStore-uEZ3XYxQ.js";import{u as me}from"./habitStore-CrvRMhRn.js";function ve(b,i){const r=V(b);return isNaN(i)?ue(b,NaN):(r.setDate(r.getDate()+i),r)}function fe(b,i){const r=V(b.start),n=V(b.end);let c=+r>+n;const p=c?+r:+n,v=c?n:r;v.setHours(0,0,0,0);let _=1;const h=[];for(;+v<=p;)h.push(V(v)),v.setDate(v.getDate()+_),v.setHours(0,0,0,0);return c?h.reverse():h}function pe(b,i){return ve(b,-364)}const he={class:"heatmap-container"},ge={class:"heatmap-grid"},_e=["title"],xe={__name:"CalendarHeatmap",props:{data:{type:Object,default:()=>({})}},setup(b){const i=b,r=T(()=>{const c=new Date,p=pe(c);return fe({start:p,end:c}).map(_=>{const h=W(_,"yyyy-MM-dd");return{date:h,count:i.data[h]||0}})}),n=c=>c===0?"#ebedf0":c<3?"#c6e48b":c<6?"#7bc96f":c<9?"#239a3b":"#196127";return(c,p)=>(f(),x("div",he,[p[0]||(p[0]=e("h3",null,"Activity Heatmap",-1)),e("div",ge,[(f(!0),x(I,null,N(r.value,(v,_)=>(f(),x("div",{key:_,class:"heatmap-cell",style:q({backgroundColor:n(v.count)}),title:`${v.date}: ${v.count} activities`},null,12,_e))),128))])]))}},be=U(xe,[["__scopeId","data-v-60ce7965"]]),ye={class:"calendar-header mb-4"},we={class:"d-flex justify-space-between align-center"},ke={class:"text-h6 font-weight-bold text-primary"},De={class:"calendar-grid"},Se={class:"day-number text-body-2"},Le={key:0,class:"task-indicator"},Te={__name:"CalendarWidget",setup(b){const i=Z();D(new Date);const r=D(new Date().getFullYear()),n=D(new Date().getMonth()),c=["Min","Sen","Sel","Rab","Kam","Jum","Sab"],p=T(()=>new Date(r.value,n.value).toLocaleDateString("id-ID",{month:"long",year:"numeric"})),v=T(()=>{const y=r.value,C=n.value,j=new Date(y,C,1),g=new Date(y,C+1,0).getDate();let S=j.getDay();S=S===0?6:S-1;const M=[],B=new Date(y,C,0).getDate();for(let o=S-1;o>=0;o--)M.push({date:B-o,isCurrentMonth:!1,isToday:!1,hasTasks:!1});const R=new Date,F=y===R.getFullYear()&&C===R.getMonth();for(let o=1;o<=g;o++){const t=`${y}-${String(C+1).padStart(2,"0")}-${String(o).padStart(2,"0")}`,d=i.tasks.some(A=>A.dueDate===t);M.push({date:o,isCurrentMonth:!0,isToday:F&&o===R.getDate(),hasTasks:d})}const X=42-M.length;for(let o=1;o<=X;o++)M.push({date:o,isCurrentMonth:!1,isToday:!1,hasTasks:!1});return M.slice(0,42)}),_=()=>{n.value===0?(n.value=11,r.value--):n.value--},h=()=>{n.value===11?(n.value=0,r.value++):n.value++};return G(()=>{const y=new Date;r.value=y.getFullYear(),n.value=y.getMonth()}),(y,C)=>{const j=u("v-btn"),E=u("v-card");return f(),P(E,{class:"ocean-card pa-6 h-100",elevation:"0"},{default:a(()=>[e("div",ye,[e("div",we,[s(j,{icon:"mdi-chevron-left",variant:"text",size:"small",onClick:_,color:"primary"}),e("div",ke,m(p.value),1),s(j,{icon:"mdi-chevron-right",variant:"text",size:"small",onClick:h,color:"primary"})])]),e("div",De,[(f(),x(I,null,N(c,g=>e("div",{key:g,class:"calendar-day-header text-caption font-weight-bold text-medium-emphasis text-center"},m(g),1)),64)),(f(!0),x(I,null,N(v.value,(g,S)=>(f(),x("div",{key:S,class:O(["calendar-day text-center",{"current-month":g.isCurrentMonth,"other-month":!g.isCurrentMonth,today:g.isToday,"has-tasks":g.hasTasks}])},[e("div",Se,m(g.date),1),g.hasTasks?(f(),x("div",Le)):Y("",!0)],2))),128))])]),_:1})}}},Ce=U(Te,[["__scopeId","data-v-8b4a21d1"]]),Me={class:"d-flex flex-column align-center justify-center h-100"},$e={class:"clock-display mb-2"},ze={class:"time-display text-h2 font-weight-black text-primary"},je={class:"date-display text-body-1 text-center text-medium-emphasis font-weight-medium"},Ae={class:"clock-icon mt-4"},He={__name:"ClockWidget",setup(b){const i=D(""),r=D("");let n=null;const c=()=>{const p=new Date,v=String(p.getHours()).padStart(2,"0"),_=String(p.getMinutes()).padStart(2,"0"),h=String(p.getSeconds()).padStart(2,"0");i.value=`${v}:${_}:${h}`,r.value=p.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})};return G(()=>{c(),n=setInterval(c,1e3)}),re(()=>{n&&clearInterval(n)}),(p,v)=>{const _=u("v-icon"),h=u("v-card");return f(),P(h,{class:"ocean-card pa-6 h-100",elevation:"0"},{default:a(()=>[e("div",Me,[e("div",$e,[e("div",ze,m(i.value),1),e("div",je,m(r.value),1)]),e("div",Ae,[s(_,{icon:"mdi-clock-outline",size:"48",color:"primary",class:"pulse-slow"})])])]),_:1})}}},Ie=U(He,[["__scopeId","data-v-1ade4d6f"]]),Ne={class:"d-flex flex-column flex-md-row align-center justify-space-between z-index-1"},Re={class:"mb-6 mb-md-0 text-center text-md-left"},Ke={class:"d-flex align-center justify-center justify-md-start mb-3"},Pe={class:"text-h3 font-weight-black mb-3 text-on-background tracking-tight"},Ee={class:"text-primary"},Fe={class:"d-flex gap-3 justify-center justify-md-start"},Oe={class:"progress-circle-container mx-auto mx-md-0 pl-md-8"},Ve={class:"text-center"},Ue={class:"text-h3 font-weight-black text-on-background"},Be={class:"streak-flame mb-4 pulse-animation"},Xe={class:"text-display-1 font-weight-black text-white mb-1 drop-shadow"},Ye={class:"d-flex align-end justify-center gap-2 h-100 w-100 px-4",style:{height:"60px"}},We={class:"text-caption text-white mt-1 font-weight-bold opacity-80",style:{"font-size":"10px"}},Ge={class:"pa-5 border-b d-flex justify-space-between align-center"},Je={class:"text-h6 font-weight-bold d-flex align-center text-on-surface"},qe={class:"checkbox-wrapper mr-4"},Ze={key:0,class:"text-error font-weight-bold"},Qe={key:1,class:"d-flex flex-column align-center justify-center flex-grow-1 pa-6 text-center text-medium-emphasis"},et={class:"rpg-header pa-6 text-white relative overflow-hidden flex-grow-0"},tt={class:"d-flex justify-space-between align-center relative z-10"},st={class:"text-h4 font-weight-black mb-1"},at={class:"relative d-flex align-center justify-center hover-scale"},ot={class:"mt-4 px-2"},nt={class:"d-flex justify-space-between align-items-center mb-2"},lt={class:"text-caption font-weight-bold text-white"},it={key:0,class:"text-caption text-center mt-2 text-accent font-weight-bold pulse-text"},rt={class:"pa-5 flex-grow-1 bg-surface-soft"},ct={class:"stat-box pa-4 rounded-xl bg-surface h-100 d-flex flex-column justify-center align-center text-center border-thin hover-lift"},dt={class:"stat-box pa-4 rounded-xl bg-surface h-100 d-flex flex-column justify-center align-center text-center border-thin hover-lift"},ut={class:"d-flex flex-column h-100 gap-4"},mt={class:"d-flex justify-space-between align-start z-10"},vt={class:"d-flex align-center"},ft={class:"icon-box bg-green-lighten-5 pa-2 rounded-lg mr-3"},pt={class:"d-flex justify-space-between align-center mb-4"},ht={class:"d-flex justify-space-between px-1"},gt={class:"text-h4 emoji-text"},_t={class:"d-flex justify-space-between align-center mb-6"},xt={class:"d-flex align-center"},bt={class:"font-weight-bold"},yt="Langkah kecil setiap hari membawa perubahan besar.",wt={__name:"DashboardView",setup(b){const i=ce(),r=me(),n=Z(),c=D({}),p=D("User"),v=D(null),_=["ðŸ˜«","ðŸ˜•","ðŸ˜","ðŸ™‚","ðŸ¤©"],h=D(!1),y=D(0),C=[{label:"S",active:!0},{label:"S",active:!0},{label:"R",active:!1},{label:"K",active:!0},{label:"J",active:!0},{label:"S",active:!0},{label:"M",active:!0}],j=T(()=>{const o=new Date().getHours();return o<12?"Pagi":o<18?"Sore":"Malam"}),E=T(()=>new Date().toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long"})),g=T(()=>i.xp/i.xpToNextLevel*100),S=T(()=>g.value>80),M=o=>o==="tinggi"?50:o==="sedang"?30:10,B=o=>o==="tinggi"?"error":o==="sedang"?"warning":"info",R=o=>{if(!o)return!1;const t=new Date;t.setHours(0,0,0,0);const d=new Date(o);return d.setHours(0,0,0,0),d<t},F=T(()=>{const o=n.todayTasks;if(o.length===0)return 100;const t=n.tasks.filter(d=>d.completed&&d.dueDate&&new Date(d.dueDate).setHours(0,0,0,0)<=new Date().setHours(0,0,0,0)).length;return Math.min(t/o.length*100,100)});T(()=>r.habits);const X=()=>{console.log("Add new habit clicked")};return G(()=>{c.value={[W(new Date,"yyyy-MM-dd")]:5,[W(new Date(Date.now()-864e5),"yyyy-MM-dd")]:3}}),(o,t)=>{const d=u("v-icon"),A=u("v-chip"),$=u("v-btn"),J=u("v-progress-circular"),z=u("v-card"),k=u("v-col"),K=u("v-row"),Q=u("v-list-item-title"),ee=u("v-list-item-subtitle"),te=u("v-list-item"),se=u("v-list"),ae=u("v-img"),oe=u("v-avatar"),ne=u("v-progress-linear"),le=u("v-snackbar"),ie=u("v-container");return f(),P(ie,{fluid:"",class:"dashboard-container pa-4 pa-md-8"},{default:a(()=>[s(K,null,{default:a(()=>[s(k,{cols:"12",md:"8"},{default:a(()=>[s(z,{class:"ocean-card hero-card h-100 pa-6 pa-md-8 d-flex flex-column justify-center relative overflow-hidden",elevation:"0"},{default:a(()=>[t[8]||(t[8]=e("div",{class:"hero-bg-circle"},null,-1)),e("div",Ne,[e("div",Re,[e("div",Ke,[s(A,{size:"small",color:"surface-soft",variant:"flat",class:"font-weight-bold text-primary px-3 elevation-1"},{default:a(()=>[s(d,{start:"",icon:"mdi-calendar-today",size:"small"}),w(" "+m(E.value),1)]),_:1})]),e("h1",Pe,[w(" Selamat "+m(j.value)+", ",1),t[4]||(t[4]=e("br",null,null,-1)),e("span",Ee,m(p.value)+"!",1)]),e("p",{class:"text-body-1 text-medium-emphasis font-weight-medium mb-6",style:{"max-width":"450px","line-height":"1.6"}},' "'+m(yt)+'" '),e("div",Fe,[s($,{color:"primary",elevation:"2",rounded:"xl",size:"large","prepend-icon":"mdi-plus",class:"px-8 font-weight-bold btn-hover",onClick:X},{default:a(()=>[...t[5]||(t[5]=[w(" Kebiasaan Baru ",-1)])]),_:1}),s($,{color:"surface",variant:"flat",rounded:"xl",size:"large","prepend-icon":"mdi-bullseye-arrow",class:"px-8 font-weight-bold text-medium-emphasis btn-hover border-thin",onClick:t[0]||(t[0]=l=>o.$router.push("/focus"))},{default:a(()=>[...t[6]||(t[6]=[w(" Mode Fokus ",-1)])]),_:1})])]),e("div",Oe,[s(J,{"model-value":F.value,size:180,width:18,color:"secondary","bg-color":"rgba(var(--v-theme-on-surface), 0.05)",class:"drop-shadow-lg"},{default:a(()=>[e("div",Ve,[e("div",Ue,m(Math.round(F.value))+"% ",1),t[7]||(t[7]=e("div",{class:"text-caption font-weight-bold text-medium-emphasis text-uppercase tracking-wide"}," Selesai ",-1))])]),_:1},8,["model-value"])])])]),_:1})]),_:1}),s(k,{cols:"12",md:"4"},{default:a(()=>[s(z,{class:"ocean-card streak-card h-100 pa-6 pa-md-8 d-flex flex-column align-center justify-center text-center",elevation:"0"},{default:a(()=>[e("div",Be,[t[9]||(t[9]=e("div",{class:"flame-bg"},null,-1)),s(d,{icon:"mdi-fire",size:"64",color:"white",class:"relative z-10"})]),e("div",Xe,m(L(i).streak),1),t[10]||(t[10]=e("div",{class:"text-h6 text-white font-weight-bold opacity-90 tracking-wide mb-6"}," STREAK HARI ",-1)),e("div",Ye,[(f(),x(I,null,N(C,(l,H)=>e("div",{key:H,class:"d-flex flex-column align-center flex-grow-1"},[e("div",{class:"streak-bar rounded-t-sm transition-all",style:q({height:l.active?"100%":"30%",opacity:l.active?1:.4,backgroundColor:"white"})},null,4),e("div",We,m(l.label),1)])),64))])]),_:1})]),_:1})]),_:1}),s(K,{class:"mt-2"},{default:a(()=>[s(k,{cols:"12",md:"4"},{default:a(()=>[s(z,{class:"ocean-card h-100 d-flex flex-column bg-surface-soft",elevation:"0"},{default:a(()=>[e("div",Ge,[e("h3",Je,[s(d,{icon:"mdi-checkbox-marked-circle",color:"secondary",class:"mr-3"}),t[11]||(t[11]=w(" Fokus Hari Ini ",-1))]),s($,{icon:"mdi-chevron-right",variant:"text",size:"small",color:"primary",onClick:t[1]||(t[1]=l=>o.$router.push("/todo"))})]),L(n).todayTasks.length>0?(f(),P(se,{key:0,class:"flex-grow-1 bg-transparent pa-3"},{default:a(()=>[s(de,{name:"list",tag:"div"},{default:a(()=>[(f(!0),x(I,null,N(L(n).todayTasks,l=>(f(),P(te,{key:l.id,value:l.id,rounded:"lg",class:"mb-2 task-item py-3",onClick:H=>L(n).toggleTask(l.id),elevation:"0"},{prepend:a(()=>[e("div",qe,[s(d,{icon:l.completed?"mdi-check-circle":"mdi-circle-outline",color:l.completed?"secondary":"medium-emphasis",size:"28",class:"transition-all scale-on-active"},null,8,["icon","color"])])]),append:a(()=>[s(A,{size:"x-small",color:"accent",variant:"tonal",class:"font-weight-bold"},{default:a(()=>[w(" +"+m(M(l.priority))+" XP ",1)]),_:2},1024)]),default:a(()=>[s(Q,{class:O(["font-weight-bold text-body-1",{"text-decoration-line-through text-medium-emphasis":l.completed}])},{default:a(()=>[w(m(l.title),1)]),_:2},1032,["class"]),s(ee,{class:"text-caption mt-1"},{default:a(()=>[s(A,{size:"x-small",color:B(l.priority),variant:"tonal",class:"mr-2"},{default:a(()=>[w(m(l.priority),1)]),_:2},1032,["color"]),R(l.dueDate)?(f(),x("span",Ze,[s(d,{icon:"mdi-alert-circle",size:"x-small"}),t[12]||(t[12]=w(" Terlambat ",-1))])):Y("",!0)]),_:2},1024)]),_:2},1032,["value","onClick"]))),128))]),_:1})]),_:1})):(f(),x("div",Qe,[s(d,{icon:"mdi-check-all",size:"64",class:"mb-4 opacity-30"}),t[14]||(t[14]=e("p",{class:"text-h6 font-weight-medium mb-1"},"Semua selesai!",-1)),t[15]||(t[15]=e("p",{class:"text-body-2 mb-4"}," Tidak ada tugas untuk hari ini. Bagus sekali! ",-1)),s($,{variant:"tonal",color:"primary",rounded:"pill",size:"small",onClick:t[2]||(t[2]=l=>o.$router.push("/todo"))},{default:a(()=>[...t[13]||(t[13]=[w(" Lihat Semua Tugas ",-1)])]),_:1})]))]),_:1})]),_:1}),s(k,{cols:"12",md:"4"},{default:a(()=>[s(z,{class:"ocean-card h-100 pa-0 overflow-hidden d-flex flex-column",elevation:"0"},{default:a(()=>[e("div",et,[t[20]||(t[20]=e("div",{class:"absolute-circle circle-1"},null,-1)),t[21]||(t[21]=e("div",{class:"absolute-circle circle-2"},null,-1)),e("div",tt,[e("div",null,[t[17]||(t[17]=e("div",{class:"text-overline font-weight-bold opacity-80 mb-1"}," STATISTIK KARAKTER ",-1)),e("div",st," Level "+m(L(i).level),1),s(A,{size:"x-small",color:"white",variant:"outlined",class:"font-weight-bold"},{default:a(()=>[...t[16]||(t[16]=[w("Master Produktivitas",-1)])]),_:1})]),e("div",at,[s(J,{"model-value":L(i).xp/L(i).xpToNextLevel*100,size:80,width:8,color:"accent","bg-color":"rgba(255,255,255,0.2)"},{default:a(()=>[s(oe,{size:"64",class:"border-2-white bg-surface"},{default:a(()=>[s(ae,{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=Felix&backgroundColor=b6e3f4",alt:"Avatar"})]),_:1})]),_:1},8,["model-value"]),t[18]||(t[18]=e("div",{class:"xp-badge"},"XP",-1))])]),e("div",ot,[e("div",nt,[t[19]||(t[19]=e("div",{class:"text-caption font-weight-bold text-white opacity-80"}," XP PROGRESS ",-1)),e("div",lt,m(L(i).xp)+" / "+m(L(i).xpToNextLevel),1)]),s(ne,{"model-value":g.value,height:"8",rounded:"","bg-color":"rgba(255, 255, 255, 0.2)",color:"accent",class:O({"xp-glow":S.value})},null,8,["model-value","class"]),S.value?(f(),x("div",it," ðŸ”¥ Hampir Level Up! ")):Y("",!0)])]),e("div",rt,[s(K,{dense:"",class:"h-100"},{default:a(()=>[s(k,{cols:"6"},{default:a(()=>[e("div",ct,[s(d,{icon:"mdi-brain",color:"primary",class:"mb-2"}),t[22]||(t[22]=e("div",{class:"text-caption text-medium-emphasis font-weight-bold"}," INTELEK ",-1)),t[23]||(t[23]=e("div",{class:"text-h5 font-weight-black text-on-surface"}," 12 ",-1))])]),_:1}),s(k,{cols:"6"},{default:a(()=>[e("div",dt,[s(d,{icon:"mdi-arm-flex",color:"error",class:"mb-2"}),t[24]||(t[24]=e("div",{class:"text-caption text-medium-emphasis font-weight-bold"}," KEKUATAN ",-1)),t[25]||(t[25]=e("div",{class:"text-h5 font-weight-black text-on-surface"},"8",-1))])]),_:1})]),_:1})])]),_:1})]),_:1}),s(k,{cols:"12",md:"4"},{default:a(()=>[e("div",ut,[s(z,{class:"ocean-card flex-grow-1 pa-5 d-flex flex-column justify-space-between relative overflow-hidden bg-surface-soft",elevation:"0"},{default:a(()=>[e("div",mt,[e("div",vt,[e("div",ft,[s(d,{icon:"mdi-wallet",color:"success",size:"24"})]),t[26]||(t[26]=e("div",null,[e("div",{class:"text-caption text-medium-emphasis font-weight-bold"}," PENGELUARAN HARIAN "),e("div",{class:"text-h6 font-weight-black text-on-surface"}," Rp 150.000 ")],-1))]),s($,{icon:"mdi-plus",size:"small",variant:"flat",color:"success",class:"rounded-lg"})]),t[27]||(t[27]=e("div",{class:"sparkline-container mt-4"},[e("svg",{viewBox:"0 0 100 30",class:"w-100",preserveAspectRatio:"none"},[e("path",{d:"M0,30 L0,20 L10,25 L20,15 L30,22 L40,10 L50,18 L60,5 L70,15 L80,10 L90,20 L100,15 L100,30 Z",fill:"rgba(var(--v-theme-success), 0.1)"}),e("path",{d:"M0,20 L10,25 L20,15 L30,22 L40,10 L50,18 L60,5 L70,15 L80,10 L90,20 L100,15",fill:"none",stroke:"rgb(var(--v-theme-success))","stroke-width":"2","vector-effect":"non-scaling-stroke"})])],-1))]),_:1}),s(z,{class:"ocean-card flex-grow-1 pa-5 bg-surface-soft",elevation:"0"},{default:a(()=>[e("div",pt,[t[28]||(t[28]=e("div",{class:"text-caption text-medium-emphasis font-weight-bold"}," PELACAK MOOD ",-1)),s(d,{icon:"mdi-emoticon",color:"medium-emphasis",size:"small"})]),e("div",ht,[(f(),x(I,null,N(_,(l,H)=>s($,{key:H,icon:"",variant:"text",size:"large",class:O([{"mood-selected":v.value===H},"mood-btn"]),onClick:kt=>v.value=H},{default:a(()=>[e("span",gt,m(l),1)]),_:2},1032,["class","onClick"])),64))])]),_:1})])]),_:1})]),_:1}),s(K,{class:"mt-2"},{default:a(()=>[s(k,{cols:"12",md:"6"},{default:a(()=>[s(Ce)]),_:1}),s(k,{cols:"12",md:"6"},{default:a(()=>[s(Ie)]),_:1})]),_:1}),s(K,{class:"mt-2"},{default:a(()=>[s(k,{cols:"12"},{default:a(()=>[s(z,{class:"ocean-card pa-6 pa-md-8 bg-surface-soft",elevation:"0"},{default:a(()=>[e("div",_t,[t[30]||(t[30]=e("div",null,[e("h3",{class:"text-h6 font-weight-bold text-on-surface"}," Log Aktivitas "),e("p",{class:"text-body-2 text-medium-emphasis"}," Konsistensi Anda selama setahun terakhir ")],-1)),s($,{variant:"text",size:"small",color:"primary","prepend-icon":"mdi-calendar"},{default:a(()=>[...t[29]||(t[29]=[w("Lihat Riwayat Lengkap",-1)])]),_:1})]),s(be,{data:c.value},null,8,["data"])]),_:1})]),_:1})]),_:1}),s(le,{modelValue:h.value,"onUpdate:modelValue":t[3]||(t[3]=l=>h.value=l),timeout:2e3,color:"success",location:"top",rounded:"pill",class:"mt-4"},{default:a(()=>[e("div",xt,[s(d,{class:"mr-2",icon:"mdi-check-circle"}),e("span",bt,"Kebiasaan Selesai! +"+m(y.value)+" XP",1)])]),_:1},8,["modelValue"])]),_:1})}}},Ct=U(wt,[["__scopeId","data-v-6ffce3ad"]]);export{Ct as default};
